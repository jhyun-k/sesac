<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        @import url(css/reset.css);

        ::selection{background-color: transparent;}
        #imgwrap{width: 600px;margin: 100px auto}
        .imgbox{display: flex;}
        .imgbox img{width:200px;}
        #modal_bg{position: fixed;left:0;top:0;width:100%;height: 100%;
        background: rgba(0,0,0,0.6);display: none}
        #modal_center{width:580px;height: 380px;border:5px solid #fff;
        position: absolute;left:50%;top:50%;transform: translate(-50%,-50%);}
        #modal_center img{width: 100%;}
        
    </style>
   
</head>
<body>
   <div id="imgwrap">
        <ul class="imgbox">
            <li><img src="img/gallery/01_img.jpg" class='imgsrc'></li>
            <li><img src="img/gallery/02_img.jpg" class='imgsrc'></li>
            <li><img src="img/gallery/03_img.jpg" class='imgsrc'></li>
        </ul>
    </div>
    <!--모달창 시작 -->
    <div id="modal_bg">
        <div id="modal_center">
            <img src="img/gallery/01_img.jpg" id='cngImg'>
        </div>
    </div>
    <!--모달창 끝 -->
</body>

<script>
    const imgBox = document.querySelector('.imgbox')
    const imgList = document.querySelectorAll('imgsrc')
    const modal = document.querySelector('#modal_bg')
    const cngImg = document.querySelector('#cngImg')
    const body = document.querySelector('body')
    const bg = document.querySelector('#modal_bg')

    imgBox.addEventListener('click',(e)=>{
        const select = e.target; // 이미지
        let src = select.getAttribute('src')
        cngImg.setAttribute('src',src);
        modal.style.display = 'block'

    })

    /* modal.addEventListener('click',(bg)=>{
        modal.style.display = 'none'
    }) */
    body.addEventListener('click',(e)=>{
        const selected=e.target;
        let state = getComputedStyle(selected).display
        if(state === 'block' && !(selected.closest('#modal_center'))){
            modal.style.display='none'
        }

    })

</script>
</html>

<!--팝업은 다른 윈도우창이 열리는 것, 모달은 클릭했을 때 레이어처럼 페이지 안에 위에서 뜨는 것
dim 뒷 배경 어둡게 하기 -->


<!--탭 만들기 , 모달 띄우기 , attribute값 바꾸기, 서랍 메뉴, 스크롤 , 캐러셀 -->

<!--Element.closest()
Element의 closest() 메서드는 주어진 CSS 선택자와 일치하는 요소를 찾을 때까지, 자기 자신을 포함해 위쪽(부모 방향, 문서 루트까지)으로 문서 트리를 순회합니다.
가장 가까운 조상-->

<!--element.parentNode   바로 위 부모 선택 , 요소 , 주석 , 줄바꿈 포함 해버려서 실수 발생 가능성 有-->










