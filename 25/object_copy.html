<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        let a = 10;
        let b = a;
        a = 30;
        console.log(a); //30
        console.log(b); // 10 값 자체를 복사 Deep Copy 원본 값 추후에 바뀌어도 이미 그 값을 변경한 것이기에 안바뀜

        let aa = {value : 1}
        let newA = aa
        newA.value = 2
        console.log(newA.value); //2
        console.log(aa.value); //2
        console.log(aa === newA); // true   // object는 참조타입, 값을 갖고 있는 주소값을 복사, 그래서 값 바뀌면 같이 바뀐다 Shallow Copy

        /* Object.assign(target, ...sources)*/

        const obj = {num : 1}
        const newObj = Object.assign({},obj)
        newObj.num = 10 ;
        console.log(obj);
        console.log(newObj);
        console.log(obj === newObj);

        const user = {
            name : '철수',
            hobby : {
                a: 'game',
                b: 'music'
            },
        }
        
        const newUser = Object.assign({},user) // Object.assign()는 depth1 까지만 copy가 되고, depth2부터는 안된다
        newUser.hobby.a = 'book';
        newUser.name = '매일';
        console.log(user);
        console.log(newUser);
        console.log(user === newUser); // false

        //스프레드 연산자

        const item = {
            type : 101,
            color:{
                a: 'red',
                b: 'blue'
            }
        }

        const newItem = {...item} // item 을 복사함
        newItem.type = 202   // 스프레드 연산자도 depth1 까지만 바뀐다 , depth1은 값을 바꾸면 메모리 주소가 다르게 할당되는데
        newItem.color.a = 'yellow' // depth2의 주소값은 여전히 동일하고, 다르게 할당되지 않기 때문에 같이 바뀌어버린다.
        item.color.b = 'green'
        console.log(item);
        console.log(newItem);



    </script>
</body>
</html>